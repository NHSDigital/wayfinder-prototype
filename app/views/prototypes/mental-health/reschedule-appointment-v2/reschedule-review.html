<!DOCTYPE html>
{% extends 'prototypes/mental-health/mental-health-layout.html' %}

{% set hub = "Your health" %}
{% set backLink = true %}
{% set pageHeading = "Review your request" %}

{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full">

      {% include "components/provider-banner/include.html" %}

      <!--<strong class="nhsapp-tag nhsapp-tag--red nhsuk-u-static-margin-bottom-2">Action needed</strong>-->

      <!-- DYNAMIC PAGE TITLE -->
      {{ dynamicPageTitle({
        title: pageHeading,
        titleSecondary: true
      })}}

        <!-- SECTION HEADING COMPONENT -->
        <div class="nhsapp-section-heading">
          <h2 class="nhsuk-heading-s">Your old appointment</h2>
        </div>

      {{ summaryList({
        classes: "nhsuk-u-margin-bottom-4",
        rows: [
        {
          key: {
            text: "Date"
          },
          value: {
            html: "Friday 7 June 2024"
          }
        },
        {
          key: {
            text: "Time"
          },
          value: {
            html: "10:30am"
          }
        },
        {
            key: {
              text: "Appointment type"
            },
            value: {
              html: "Mental health service appointment"
            }
          },
          {
            key: {
              text: "Location"
            },
            value: {
              html: "Room 1, King Street GP Practice, New Street, Sheffield, S1 1XX"
            }
          },
          {
            key: {
              text: "Clinician"
            },
            value: {
              text: "Ahmet Kaya"
            }
          }
        ]
      }) }}

    <!-- SECTION: Requested appointment dates -->
    <div class="nhsapp-section-heading">
      <h2 class="nhsuk-heading-s">Your requested appointment</h2>
    </div>

    <!-- Summary list: User-selected times for Monday and Tuesday -->
    <dl class="nhsuk-summary-list">

      <!-- Monday -->
      <div class="nhsuk-summary-list__row">
        <dt class="nhsuk-summary-list__key">Monday 7 July 2025</dt>
        <dd class="nhsuk-summary-list__value">
          {% if data['monday-time'] %}
            {% if data['monday-time'] | length > 1 %}
              {{ data['monday-time'] | join(', ') }}   {# Multiple selections joined #}
            {% else %}
              {{ data['monday-time'] }}                 {# Single selection #}
            {% endif %}
          {% else %}
            No time selected for Monday                {# Fallback message #}
          {% endif %}
        </dd>
      </div>

      <!-- Tuesday -->
      <div class="nhsuk-summary-list__row">
        <dt class="nhsuk-summary-list__key">Tuesday 8 July 2025</dt>
        <dd class="nhsuk-summary-list__value">
          {% if data['tuesday-time'] %}
            {% if data['tuesday-time'] | length > 1 %}
              {{ data['tuesday-time'] | join(', ') }}
            {% else %}
              {{ data['tuesday-time'] }}
            {% endif %}
          {% else %}
            No time selected for Tuesday
          {% endif %}
        </dd>
      </div>

      <!-- Static fields shown again for clarity -->
      <div class="nhsuk-summary-list__row">
        <dt class="nhsuk-summary-list__key">Appointment type</dt>
        <dd class="nhsuk-summary-list__value">Asthma</dd>
      </div>

      <div class="nhsuk-summary-list__row">
        <dt class="nhsuk-summary-list__key">Location</dt>
        <dd class="nhsuk-summary-list__value">
          Northern General Hospital, Entrance G, Sheffield, S5 7AU
        </dd>
      </div>

      <div class="nhsuk-summary-list__row">
        <dt class="nhsuk-summary-list__key">Clinician</dt>
        <dd class="nhsuk-summary-list__value">Ahmet Kaya</dd>
      </div>
    </dl>

      <!-- RED CARE CARD COMPONENT -->
      <div class="nhsuk-card nhsuk-card--care nhsuk-card--care--urgent">
        <div class="nhsuk-card--care__heading-container">
          <h2 class="nhsuk-card--care__heading"> <span role="text"><span class="nhsuk-u-visually-hidden">Urgent advice: </span>If you need help now</span> </h2> <span class="nhsuk-card--care__arrow" aria-hidden="true"></span>
        </div>
        <div class="nhsuk-card__content">
          <ul>
            <li>If you are in danger, call <a href="">999</a> or go to A&E now</li>
            <li>If you need urgent help for your mental health, <a href="">get help from NHS 111 online or call 111</a></li>
          </ul>
          <p>Your mental health is as important as your physical health. You will not be wasting anyone's time.</p>
        </div>
      </div>

      <!-- CHECKBOX COMPONENT -->
      <div class="nhsuk-form-group">

        <fieldset class="nhsuk-fieldset" aria-describedby="example-hint">
          <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--l">
            <h1 class="nhsuk-fieldset__heading">
              Confirm
            </h1>
          </legend>
          <div class="nhsuk-checkboxes">
            <div class="nhsuk-checkboxes__item">
              <input class="nhsuk-checkboxes__input" id="example-1" name="example" type="checkbox" value="email">
              <label class="nhsuk-label nhsuk-checkboxes__label" for="example-1">
                I understand that I am asking to reschedule my appointment
              </label>
            </div>
    </div>

    <!-- BUTTON COMPONENT -->
    <div style="padding-top: 20px">
        <a class="nhsuk-button nhsapp-button" data-module="nhsuk-button" type="submit" href="reschedule-submitted.html">
            Request new appointment
        </a>
    </div>

      <!-- FIELDSET COMPONENTS -->
    <div>
      <fieldset class="nhsuk-fieldset">
        <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--l">
          <h6 class="nhsuk-fieldset__heading">
            Get help with this appointment
          </h6>
        </legend>
        <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--l">
            <h3 class="nhsuk-fieldset__legend">Contact the booking team on <a href="">0XXXX XXX XXX</a></h3>
        </legend>
      </fieldset>
    </div>

      <!-- FOOTER COMPONENT-->
      <footer role="contentinfo">
        <div class="nhsuk-footer-container">
          <div class="nhsuk-width-container">
            <h2 class="nhsuk-u-visually-hidden">Support links</h2>
            <div class="nhsuk-footer">
              <ul class="nhsuk-footer__list">
                <li class="nhsuk-footer__list-item">
                  <a class="nhsuk-footer__list-item-link" href="#">Terms of use</a>
                </li>
                <li class="nhsuk-footer__list-item">
                  <a class="nhsuk-footer__list-item-link" href="#">Privacy policy</a>
                </li>
                <li class="nhsuk-footer__list-item">
                  <a class="nhsuk-footer__list-item-link" href="#">Cookie policy</a>
                </li>
                <li class="nhsuk-footer__list-item">
                  <a class="nhsuk-footer__list-item-link" href="#">Accessibility statement</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </footer>

    </div>
  </div>

  {% endblock %}
