{% extends "prototypes/acute/acute-layout.html" %}

{% set hub = "Your health" %}
{% set backLink = true %}
{% set pageHeading = "Review your request" %}

{% block content %}

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">

    {% include "components/provider-banner/include.html" %}

    <!-- PAGE TITLE -->
    {{ dynamicPageTitle({
      title: pageHeading,
      titleSecondary: true
    }) }}

    <!-- OLD APPOINTMENT SECTION -->
    <div class="nhsapp-section-heading">
      <h2 class="nhsuk-heading-s">Your old appointment</h2>
    </div>

    {{ summaryList({
      classes: "nhsuk-u-margin-bottom-4",
      rows: [
        {
          key: { text: "Date" },
          value: { html: "Friday 4 July 2025" }
        },
        {
          key: { text: "Time" },
          value: { html: "10:30am" }
        },
        {
          key: { text: "Appointment type" },
          value: { text: "Asthma" }
        },
        {
          key: { text: "Location" },
          value: { text: "Northern General Hospital, Entrance G, Sheffield, S5 7AU" }
        },
        {
          key: { text: "Clinician" },
          value: { text: "Ahmet Kaya" }
        }
      ]
    }) }}

    <!-- REQUESTED APPOINTMENT SECTION -->
    <div class="nhsapp-section-heading">
      <h2 class="nhsuk-heading-s">Your requested appointment</h2>
    </div>
    <dl class="nhsuk-summary-list">
          <div class="nhsuk-summary-list__row">
            <dt class="nhsuk-summary-list__key">Monday 7 July 2025</dt>
            <dd class="nhsuk-summary-list__value">
            {% if data['mary-monday'] %}
                {% if data['mary-monday'] | length > 1 %}
                {{ data['mary-monday'] | join(', ') }}
                {% else %}
                {{ data['mary-monday'] }}
                {% endif %}
            {% else %}
                No time selected for Monday
            {% endif %}
            </dd>
        </div>

        <div class="nhsuk-summary-list__row">
            <dt class="nhsuk-summary-list__key">Tuesday 8 July 2025</dt>
            <dd class="nhsuk-summary-list__value">
            {% if data['mary-tuesday'] %}
                {% if data['mary-tuesday'] | length > 1 %}
                {{ data['mary-tuesday'] | join(', ') }}
                {% else %}
                {{ data['mary-tuesday'] }}
                {% endif %}
            {% else %}
                No time selected for Tuesday
            {% endif %}
            </dd>
        </div>

        <div class="nhsuk-summary-list__row">
          <dt class="nhsuk-summary-list__key">
            Appointment type
          </dt>
          <dd class="nhsuk-summary-list__value">
            Asthma
          </dd>
        </div>

        <div class="nhsuk-summary-list__row">
          <dt class="nhsuk-summary-list__key">
            Location
          </dt>
          <dd class="nhsuk-summary-list__value">
            Northern General Hospital, Entrance G, Sheffield, S5 7AU
          </dd>
        </div>
        
        <div class="nhsuk-summary-list__row">
          <dt class="nhsuk-summary-list__key">
            Clinician
          </dt>
          <dd class="nhsuk-summary-list__value">
            Ahmet Kaya
          </dd>
        </div>
      </dl>

      <h2>Reason</h2>
      {% if data['question-3'] %}
        <p class="nhsuk-u-margin-bottom-6">{{ data['question-3'] }}</p>
      {% else %}
        <p class="nhsuk-u-margin-bottom-6">No reason provided.</p>
      {% endif %}


    <!-- CONFIRMATION CHECKBOX -->
    <div class="nhsuk-form-group">
      <fieldset class="nhsuk-fieldset" aria-describedby="example-hint">
        <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--l">
          <h1 class="nhsuk-fieldset__heading">Confirm</h1>
        </legend>
        <div class="nhsuk-checkboxes">
          <div class="nhsuk-checkboxes__item">
            <input class="nhsuk-checkboxes__input" id="confirm-reschedule" name="confirm" type="checkbox" value="yes">
            <label class="nhsuk-label nhsuk-checkboxes__label" for="confirm-reschedule">
              I understand that I am asking to reschedule my appointment
            </label>
          </div>
        </div>
      </fieldset>
    </div>

    <!-- SUBMIT BUTTON -->
    <div>
      <a class="nhsuk-button" data-module="nhsuk-button" type="submit" href="request-submitted.html">
        Request new appointment
      </a>
    </div>

    <!-- SUPPORT SECTION -->
      <fieldset class="nhsuk-fieldset">
        <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--l">
          <h2 class="nhsuk-fieldset__heading">Get help with this task</h2>
        </legend>
        <div class="nhsuk-body">
          <p class="nhsuk-u-margin-bottom-4">Contact the booking team on <a href="">0XXXX XXX XXX</a></p>
        </div>
      </fieldset>

    <!-- FOOTER -->
    <footer role="contentinfo" class="nhsuk-footer">
      <div class="nhsuk-footer-container">
        <div class="nhsuk-width-container">
          <h2 class="nhsuk-u-visually-hidden">Support links</h2>
          <ul class="nhsuk-footer__list">
            <li class="nhsuk-footer__list-item"><a class="nhsuk-footer__list-item-link" href="#">Terms of use</a></li>
            <li class="nhsuk-footer__list-item"><a class="nhsuk-footer__list-item-link" href="#">Privacy policy</a></li>
            <li class="nhsuk-footer__list-item"><a class="nhsuk-footer__list-item-link" href="#">Cookie policy</a></li>
            <li class="nhsuk-footer__list-item"><a class="nhsuk-footer__list-item-link" href="#">Accessibility statement</a></li>
          </ul>
        </div>
      </div>
    </footer>

  </div>
</div>
{% endblock %}
